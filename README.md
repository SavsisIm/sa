# Telegram Shop Bot

Telegram –±–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∫–ª—é—á–µ–π WarChill —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –ÆMoney.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
./run_bot.sh

# 2. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 1 (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
# 3. –ò–∑–º–µ–Ω–∏—Ç–µ ADMIN_IDS –≤ bot_auto.py –Ω–∞ –≤–∞—à Telegram ID
# 4. –ì–æ—Ç–æ–≤–æ!
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [AUTO_BOT_GUIDE.md](AUTO_BOT_GUIDE.md)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip3 install --break-system-packages python-telegram-bot requests
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   - **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è**: –ò–∑–º–µ–Ω–∏—Ç–µ `ADMIN_IDS` –≤ `bot_auto.py`
   - **–ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ÆMoney API (—Å–º. [YOOMONEY_SETUP.md](YOOMONEY_SETUP.md))

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./run_bot.sh

# –°–ø–æ—Å–æ–± 2: –ù–∞–ø—Ä—è–º—É—é
python3 bot_auto.py  # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
python3 bot.py       # –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å API
python3 bot_simple.py # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
```

## –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- üõçÔ∏è –ü–æ–∫—É–ø–∫–∞ –∫–ª—é—á–µ–π WarChill
- üí∞ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ –ÆMoney
- üë§ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏ –∏—Å—Ç–æ—Ä–∏–∏
- üÜò –û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
- üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏
- üîë –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
- üí∏ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ÆMoney

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –ÆMoney Developer**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: https://yoomoney.ru/docs/payment-buttons/using-api/forms
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –ÆMoney

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
     - **–ù–∞–∑–≤–∞–Ω–∏–µ**: `WarChill Shop Bot`
     - **–û–ø–∏—Å–∞–Ω–∏–µ**: `Telegram –±–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∫–ª—é—á–µ–π`
     - **Redirect URI**: `http://localhost:8080/callback`
     - **–ü—Ä–∞–≤–∞**: `operation-history`

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π**:
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `Client ID` –∏ `Client Secret`
   - –ó–∞–º–µ–Ω–∏—Ç–µ –≤ `bot.py`:
     ```python
     YOOMONEY_CLIENT_SECRET = "–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á"
     ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

–ï—Å–ª–∏ —É –≤–∞—Å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º API –∫–ª—é—á–µ–π, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bot_simple.py`:
```bash
python3 bot_simple.py
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø–ª–∞—Ç–µ–∂–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `shop.db` —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏:
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∏—Ö –±–∞–ª–∞–Ω—Å—ã
- `products` - —Ç–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞
- `keys` - –∫–ª—é—á–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
- `transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π